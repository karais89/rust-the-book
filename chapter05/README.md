# 챕터5. 구조체를 활용한 관련 데이터의 구조화

## 학습 내용
- 튜플과 구조체의 차이
- 구조체의 메서드와 연관 함수

## 느낀점
- golang과 마찬가지로 러스트의 경우도 클래스가 아닌 구조체만 제공한다.
    - 새로 만들어지는 언어에서는 클래스를 없애는 추세로 보인다? ~(상속 극혐)~
    - 결국엔 러스트의 구조체에서 메서드도 있고, 스태틱 함수(연관 함수)도 제공하며, 인터페이스(트레잇)도 제공한다.
- golang과 러스트에서는 구조체에 메서드를 붙이는 방식이 좀 더 유연성을 가지게 되는데, [C#의 확장 메서드](https://docs.microsoft.com/ko-kr/dotnet/csharp/programming-guide/classes-and-structs/extension-methods) 같이 이미 선언되어 있는 구조체에 내가 원하는 메서드를 붙일 수 있는 형태이고, 제약도 없다고 생각하면 될 것 같다.
    - 이 부분은 확실히 장점이 될 수 있을 것 같다.
    - 트레잇도 마찬가지 개념. 내 마음대로 트레잇을 뗏다 붙였다 할 수 있다.
- 메서드 선언 문법의 경우 self를 붙여주는 부분은 파이썬의 클래스와 닮았다.
- 구조체가 여러개의 impl 블록을 선언할 수 있는 부분이 다른 언어와 좀 다른 부분 인 것 같다.
    - 유용하게 사용 가능하다.(제네릭 타입, 트레잇 등)
- 연관함수의 경우 생성자등을 선언할 때 많이 사용하는 것으로 보이고 보통은 연관함수 이름은 new()로 지정하는 것으로 보인다.

## 주요 내용

### 5.1 구조체 정의와 인스턴스 생성
- 구조체는 각기 다른 타입의 값으로 구성된다.
- 튜플과 달리 각 데이터에 별개의 이름을 부여해서 값의 의미를 더 분명하게 표현할 수 있다.
- 구조체 변경이 필요할 경우 구조체 자체를 가변 구조체로 만들어야 한다.
- 필드 초기화 단축 문법 제공 (필드와 함수의 매개변수 이름이 같으면 해당 필드의 매개변수 값을 집어 넣는다)
- 구조체 갱신 문법 제공 (다른 구조체의 값을 그대로 사용하고, 갱신하고 싶은 부분만 갱신 가능)
- 튜플 구조체
    - 구조체에는 이름을 부여하지만, 필드에는 이름을 부여하지 않고 타입만 지정한다.
    - 튜플과 유사하지만, 튜플 구조체는 타입을 가지는 부분이 다르다. (해당 타입으로 함수 인자를 넘겨준다던가 하는 방식..)
- 유사 유닛 구조체
    - 유닛 타입 ()과 유사하게 동작함
    - 어떤 타입의 트레이트를 구현해야 하지만, 타입에 저장할 데이터가 없을 때 유용하게 활용할 수 있다.

### 5.2 구조체를 사용하는 예제 프로그램
- 사각형 면적 구하기
- derive 애노테이션을 이용하여 사용자 정의 타입에 유용한 동작을 적용할수 있는 다양한 트레이트를 제공한다.

### 5.3 메서드 문법
- 메서드는 함수와 유사하다.
- 메서드는 함수와 달리 구조체의 컨텍스트 안에 정의하며, 첫번째 매개변수는 항상 메서드를 호출할 구조체의 인스턴스를 표현하는 self여야 한다.
- self를 넘겨줄때 self, &self, &mut self 등의 방법이 있다.
    - self 소유권을 넘겨줄때 (해당 경우는 드물다)
    - &self 값 변경이 필요 없을때
    - &mut self 값 변경이 필요 할때
- 연관 함수
    - self 매개변수를 사용하지 않는 다른 함수도 정의할 수 있다. = 연관 함수
        - 구조체의 인스턴스를 직접 전달받지 않기 때문에 메서드가 아니라 함수다.
    - 주로 생성자를 구현할 때 자주 사용한다.
- 각 구조체는 여러 개의 impl 블록을 선언할 수 있다.